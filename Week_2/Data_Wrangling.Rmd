---
title: "Data_Wrangling"
output: pdf_document
date: "2025-03-03"
---

### Generating Random Data
In our previous lesson we learned about data structures, in particular we learned about data frames. As a refresher, data frames are two-dimensional structures that can hold different data types. Due to it's flexibility, data frames are a very popular way in which Data Scientists store information. 

Today we will be dipping our toes into generating our own random data and working with that data in a data frame structure to begin data wrangling and gain a clear understanding of randomness, distributions, and sampling. While generating our own random data may initially appear to be a silly task, these hypothetical data sets aid us in exploring different scenarios, which is particularly useful in statistics, machine learning, and research. In fact, many authors make use of self-generated data to test tools they build for research, espcailly if data is not readily available. 

All that said, let's start generating some random data using the R functions `rnorm()` and `rbinom()`. `rnorm()`generate random data taken from a normal distribution. You can specify the number of digits that you need as well as the mean and standard deviation of your your data. Similarly, `rbinom()` generates values from a binomial distribution. Users can specify `size`, the number of trials, and `prob`, the probability of success on each trial. 

Here are a few examples for the normal distributions:
```{r}
rnorm(10, mean = 0, sd = 1)
```
```{r}
rnorm(10, mean = 10, sd = 2)
```
Here are a few examples for the binomial distributions:

```{r}
rbinom(10, 8, 0.5)
```
```{r}
rbinom(10, 1, 0.5)
```

Now, you may notice that you and your class buddy don't get the same values. What gives? You have the exact same code. This is simply the nature of the random number generation in R. Each time we call `rnorm()`, R produces a different set of random values drown from a normal distribution. Let's say, for consistency sake, we want to keep our values the same as our class buddy's. To do this, we can set a seed. Setting a seed ensures that every time you run the code, the exact same sequence of random numbers is generated. This is crucial for reproducibility in research, where you want others to be able to verify and replicate your results. So let's set a seed and then compare our results to those of our buddy's results.

Here is an example setting a seed and generating normally distributed random data:
```{r}
set.seed(246)
rnorm(10, mean = 3, sd = 1)
```

And here is an example setting a seed and generating binomial random data:

```{r}
set.seed(246)
rbinom(10, 1, 0.5)
```

Now that we have gotten our feet wet generating random data, let's put these skills to use and generate some random meta data we can use to further develop our data wrangling skills. 

```{r}
# Load necessary libraries
library(dplyr)

# Set the seed for reproducibility
set.seed(123)

# Define the number of samples
n <- 100  # You can change this number to generate more or fewer samples

# Generate random data
random_data <- data.frame(
  Subject_ID = paste("Subject", 1:n, sep = "_"),  # Generate Subject IDs
  Age = pmax(18, pmin(85, round(rnorm(n, mean = 50, sd = 10)))),  # Random ages between 18 and 85
  Sex = sample(c("Male", "Female"), n, replace = TRUE),  # Random sex values
  Disease_Status = sample(c("Case", "Control"), n, replace = TRUE),  # Random disease status
  Heart_Rate = pmax(40, pmin(200, round(rnorm(n, mean = 75, sd = 15))))  # Random heart rates between 40 and 200
)

# View the first few rows of the generated dataset
head(random_data)
```

In the above code we have created a data frame called `random_data` that contains five columns: Subject_ID, Age, Sex, Disease_Status, and Heart_Rate. Let's breakdown how we have generated the data in each column:

  * Subject_ID: Using the `paste` function we have combined together the word "Subject" with numbers 1 through 100 and separated "Subject" and the number with a "_". 
  * Age: The use of `pmax` and `pmin` ensure that the values fall between 18 and 85 for age. We then use `rnorm` to generate a set of 100 ages with a mean of 50 and a standard deviation of 10 years.
  * Sex: This variable is generated by providing values we would like included in our column, in this case, "Male" and "Female". We then employ the `sample()` function to sample "Male" or "Female" `n` times with replacement, meaning if we take "Male" out of the bag, it can be selected again during the next round of sampling. 
  * Disease Status: We sampled "Cases" and "Controls" in the same manner in which we sampled "Males" and "Females".
  * Heart_Rate: The use of `pmax` and `pmin` ensure that the values fall between 40 and 200 for hear rate. We then use `rnorm` to generate a set of 100 ages with a mean of 75 and a standard deviation of 15 years.
  
### Basic Plotting in R

One really handy thing to do when you are handed a new data set is to generate a few figures that help you get an idea of how the data is distributed. Base R has built in functions to generate simple plots such as histograms, scatter plots, and box plots among others. Using the data frame we generated above, let's create a histogram displaying the distribution of subject heart rate using the base R function `hist()`.

```{r}
hist(random_data$Heart_Rate)
```
Above we have generated a histogram displaying heart rate from our random data, but the x and y-axes are messy, as is the title. Let's clean these up using the `main`, `xlab`, and `ylab` parameters that can be applied to `hist`.

```{r}
hist(random_data$Heart_Rate, main = "Distribution of Heart Rate", 
     xlab = "Heart Rate", 
     ylab = "Freq")
```
There, much prettier! But we might want to see more granularity in the distribution. In order to do this, we can make chop up the bars in the histogram using the `breaks` argument. Lets try 10, 20, and 30 breaks to develop a feel for changes in the distribution. 

```{r}
hist(random_data$Heart_Rate, main = "Distribution of Heart Rate", 
     xlab = "Heart Rate", 
     ylab = "Freq",
     breaks = 10)
```
```{r}
hist(random_data$Heart_Rate, main = "Distribution of Heart Rate", 
     xlab = "Heart Rate", 
     ylab = "Freq",
     breaks = 20)
```
```{r}
hist(random_data$Heart_Rate, main = "Distribution of Heart Rate", 
     xlab = "Heart Rate", 
     ylab = "Freq",
     breaks = 30)
```
When we apply additional breaks to our data we begin to see the finer shifts in the distribution. 

In addition to histograms, we can use base R functions to generate scatter plots. Let's say we want to generate a scatter plot of age vs. heart rate to observe if any treads could possibly exist between the two variables. To create a scatter plot, we can employ the `plot()` function in R. 

```{r}
plot(random_data$Age, random_data$Heart_Rate, main = "Age vs. Heart Rate", xlab = "Age", ylab = "Heart Rate")
```
Perhaps we are instead interested in observing if there are any differences in heart rate between cases and controls. A box plot would be an appropriate 

### ggplot2 Figures
### Reading in Public Data
## Generating Summary Statistics
# Mean
# Median
# Standard Deviation
# Summary
### Subsetting Data
### String Manipulation
### Adding Statistics to Figures
## Non-Parametric Testing
## Parametric Testing